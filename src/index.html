<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebSite" version="{{VERSION}}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0">
    <meta name="theme-color" content="white">
    <meta name="description" content="Personal website of Jacek Kościesza.">
    <meta content="/images/icons/jacek-kosciesza-512x512.png" itemprop="image">
    <meta name="author" content="Jacek Kościesza">
    <title>Jacek Kościesza</title>
    <link rel="icon" href="favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/jacek-kosciesza-60x60.jpg">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/jacek-kosciesza-76x76.jpg">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/jacek-kosciesza-120x120.jpg">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/jacek-kosciesza-152x152.jpg">
    <link rel="apple-touch-icon" sizes="167x167" href="/images/icons/jacek-kosciesza-167x167.jpg">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/jacek-kosciesza-180x180.jpg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Jacek Kościesza">
    <style>
         :root {
            /*colors*/
            --primary-color: hsl(212, 80%, 48%);
            --primary-color-dark: hsl(209, 100%, 34%);
            --accent-color: red;
            --background-color: #f1f1f1;
            --aside-background-color: #f1f1f1;
            --offline-primary-color: hsl(0, 0%, 53%);
            --offline-primary-color-dark: hsl(0, 0%, 47%);
            --footer-background: white;
            /*layout*/
            --aside-width: 0;
        }
        
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        
        body {
            background: var(--background-color);
            font-family: arial, sans-serif;
        }
        
        .layout {
            min-height: 100%;
            display: grid;
            grid-template-columns: auto var(--aside-width);
            grid-template-rows: auto 1fr auto;
            grid-template-areas: "header header" "main aside" "footer footer";
        }
        
        button.menu {
            display: inline;
            margin: 5px;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
        }
        
        svg {
            pointer-events: none;
            display: block;
            width: 100%;
            height: 100%;
            fill: white;
        }
        
        header>nav,
        header>section {
            display: none;
        }
        
        .layout>header {
            grid-area: header;
            background: var(--primary-color);
            display: flex;
            justify-content: space-between;
        }
        
        .layout>header section {
            padding: 0.7em;
            margin-left: 95px;
        }
        
        button.login {
            margin: 0;
            padding: 5px 10px;
            border: 1px solid white;
            background: none;
            color: white;
            font-size: 1em;
            border-radius: 4px;
        }
        
        html[offline] .layout>header {
            background: var(--offline-primary-color);
        }
        
        .layout>main {
            grid-area: main;
        }
        
        .layout>aside {
            grid-area: aside;
            background: var(--aside-background-color);
        }
        
        .layout>footer {
            grid-area: footer;
            background: var(--footer-background);
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75em;
            font-family: cursive;
            border-top: 1px solid #e2e2e2;
        }
        
        .skip-links {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--accent-color);
            color: white;
            padding: 8px;
            z-index: 100;
        }
        
        .skip-links:focus {
            top: 0;
        }
        
        .logo {
            display: flex;
        }
        
        .logotype {
            display: inline-block;
            color: white;
            padding: 1em;
            text-transform: uppercase;
            font-weight: bold;
        }
        
        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
        }
        
        nav a {
            display: block;
            text-decoration: none;
            color: white;
            padding: 1em;
        }
        
        nav a:hover,
        nav a:focus,
        header button:hover,
        header button:focus {
            background: var(--primary-color-dark);
        }
        
        html[offline] nav a:hover {
            background: var(--offline-primary-color-dark);
        }
        
        nav li.active {
            border-bottom: 2px solid var(--accent-color);
        }
        
        .view {
            padding: 20px;
        }
        
        .view h1 {
            margin-top: 0;
        }
        
        @media (min-width: 768px) {
            .layout {
                --aside-width: 200px;
            }
            header>nav,
            header>section {
                display: block;
            }
            button.menu {
                display: none;
            }
        }
        
        jk-dialog:not(:defined) {
            display: none;
        }
        
        .loader {
            left: 50%;
            top: 50%;
            position: fixed;
            -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
        }
        
        .loader #spinner {
            box-sizing: border-box;
            stroke: var(--primary-color);
            stroke-width: 3px;
            -webkit-transform-origin: 50%;
            transform-origin: 50%;
            -webkit-animation: line 1.6s cubic-bezier(0.4, 0, 0.2, 1) infinite, rotate 1.6s linear infinite;
            animation: line 1.6s cubic-bezier(0.4, 0, 0.2, 1) infinite, rotate 1.6s linear infinite;
        }
        
        @keyframes rotate {
            from {
                -webkit-transform: rotate(0);
                transform: rotate(0);
            }
            to {
                -webkit-transform: rotate(450deg);
                transform: rotate(450deg);
            }
        }
                
        @keyframes line {
            0% {
                stroke-dasharray: 2, 85.964;
                -webkit-transform: rotate(0);
                transform: rotate(0);
            }
            50% {
                stroke-dasharray: 65.973, 21.9911;
                stroke-dashoffset: 0;
            }
            100% {
                stroke-dasharray: 2, 85.964;
                stroke-dashoffset: -65.973;
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg);
            }
        }
    </style>
    <script async src="/framework/idb.js"></script>
    <script async src="/framework/jk.js"></script>
    <script defer src="/scripts/view.js"></script>
    <script defer src="/scripts/blog.js"></script>
    <script defer src="/scripts/notes.js"></script>
    <script defer src="/scripts/resources.js"></script>
    <script defer src="/scripts/contact.js"></script>
    <script defer src="/scripts/router.js"></script>
    <script defer src="/scripts/navigation.js"></script>
    <script defer src="/scripts/app.js"></script>
    <!--<link rel="preload" href="/views/blog.html" as="document">
    <link rel="preload" href="/views/resources.html" as="document">
    <link rel="preload" href="/views/contact.html" as="document">-->
</head>

<body>
    <div class="page layout">
        <a href="#main" class="skip-links">Skip to Content</a>
        <header>
            <button class="menu" title="Navigation menu" aria-label="Navigation menu" aria-expanded="false">
                <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">
                    <g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></g>
                </svg>
            </button>
            <div class="logo">
                <span class="logotype">Jacek&nbsp;Kościesza</span>
            </div>
            <nav>
                <ul>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/notes">Notes</a></li>
                    <li class="active"><a href="/resources">Resources</a></li>
                    <li><a href="/contact">Contact</a></li>
                </ul>
            </nav>
            <section>
                <button class="login">Login</button>
            </section>
        </header>
        <main id="main" role="main"></main>
        <aside>
            <jk-dialog>
                <h1>Sign In</h1>
                <button>Cancel</button>
                <button>Sign In</button>
            </jk-dialog>
        </aside>
        <footer>
            Copyright &copy; {{YEAR}} Jacek Kościesza v{{VERSION}}
        </footer>
    </div>
    <div class="loader">
        <svg viewBox="0 0 32 32" width="32" height="32">
            <circle id="spinner" cx="16" cy="16" r="14" fill="none"></circle>
        </svg>
    </div>
    <script>
        document.querySelector('button.login').addEventListener('click', _ => {
            // lazy load dialog element
            importHtml('/elements/dialog.html');
            let dialog = document.querySelector('jk-dialog');
            dialog.setAttribute('opened', '');
        });

        function importHtml(href) {
            let isAlreadyImported = document.querySelector(`head > link[href="${href}"]`);
            if (!isAlreadyImported) {
                let link = document.createElement('link');
                link.setAttribute('rel', 'import');
                link.setAttribute('href', href);
                document.head.appendChild(link);
            }
        }
    </script>
</body>

</html>